<ion-view view-title="Take ESAS">
  <ion-content class="bg-grey">
    <div ng-if="!esas_enabled" class="bg-orange full-height">
      <h1 class="light text-center">Not Enabled</h1>
    </div>
    <div ng-if="isSet(1) && esas_enabled"  class="bg-orange full-height">
      <h1 class="light text-center">Please Choose Language</h1>
      <div class="text-center">
        <button class="button button-block bg-light-orange curve-all" ng-click="setTab(tab + 1); scrollTop(); setLanguage('english')">English</button>
        <button class="button button-block bg-light-orange curve-all" ng-click="setTab(tab + 1); scrollTop(); setLanguage('tagalog')">Tagalog</button>
      </div>
    </div>
    <div ng-if="isSet(2) && esas_enabled" class="bg-orange full-height">
      <h1 class="light text-center">Do You Feel Any Pain?</h1>
      <div class="text-center">
        <button class="button button-block bg-light-orange curve-all" ng-click="setTab(tab + 1); scrollTop()">Yes</button>
        <button class="button button-block bg-light-orange curve-all" ng-click="setTab(7); scrollTop()">No</button>
      </div>
    </div>
    <div ng-if="isSet(3) && esas_enabled">
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.pain[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.pain" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.nausea[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.nausea" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.anxiety[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.anxiety" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.depression[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.depression" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.drowsiness[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.drowsiness" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.lack_of_appetite[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.lack_of_appetite" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.wellbeing[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.wellbeing" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#">
        <div class="item item-divider text-center bg-white">
          {{translations.shortness_of_breath[language]}}
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="esas_result.pain_result.shortness_of_breath" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <div class="#" ng-repeat="other_symptoms in esas_result.pain_result.other_symptoms">
        <div class="item item-divider text-center">
          <label class="item item-input col-12">
            <span class="input-label">Enter Symptom:</span>
            <input type="text" ng-model="other_symptoms.key">
          </label>
        </div>
        <div class="item item-text-wrap">
          <rzslider rz-slider-model="other_symptoms.value" rz-slider-options="pain_slider.options"></rzslider>
        </div>
      </div>
      <br>
      <div class="text-center">
      <button type="button" name="button" class="button bg-blue  curve-all light" ng-click="addSymptom()">Add Symptom</button>
      <button type="button" name="button" class="button button-assertive curve-all" ng-click="removeSymptom()" ng-if="esas_result.pain_result.other_symptoms.length > 0">Remove Symptom</button>
      </div>
    </div>
    <div ng-if="isSet(4)">
      <div class="card">
        <div class="item item-text-wrap">
          <div class="list">
            <ion-checkbox ng-repeat="pain_type in pain_types track by $index"
                          ng-model="checked"
                          ng-click="addPainType(pain_type, checked); $event.stopPropagation();">
              {{pain_type}}
            </ion-checkbox>
          </div>
        </div>
      </div>
    </div>
    <div ng-if="isSet(5) && esas_enabled">
      <div ng-include="'templates/body-diagram/anterior.html'"></div>
    </div>
    <div ng-if="isSet(6) && esas_enabled">
      <div ng-include="'templates/body-diagram/posterior.html'"></div>
    </div>
    <div ng-if="isSet(7) && esas_enabled" class="bg-orange full-height">
      <h1 class="light text-center">Almost Done!</h1>
      <div class="card">
        <div class="item item-text-wrap bg-orange light">
          <div class="row">
            <div class="col col-80">{{translations.pain[language]}}</div>
            <div class="col">{{esas_result.pain_result.pain}}</div>
          </div>
          <div class="row">
            <div class="col col-80">Tiredness</div>
            <div class="col">{{esas_result.pain_result.tiredness}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.nausea[language]}}</div>
            <div class="col">{{esas_result.pain_result.nausea}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.anxiety[language]}}</div>
            <div class="col">{{esas_result.pain_result.anxiety}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.depression[language]}}</div>
            <div class="col">{{esas_result.pain_result.depression}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.drowsiness[language]}}</div>
            <div class="col">{{esas_result.pain_result.drowsiness}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.lack_of_appetite[language]}}</div>
            <div class="col">{{esas_result.pain_result.lack_of_appetite}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.wellbeing[language]}}</div>
            <div class="col">{{esas_result.pain_result.wellbeing}}</div>
          </div>
          <div class="row">
            <div class="col col-80">{{translations.shortness_of_breath[language]}}</div>
            <div class="col">{{esas_result.pain_result.shortness_of_breath}}</div>
          </div>
          <!-- if array then loop -->
          <div class="row">
            <div class="col col-80">{{translations.other_symptoms[language]}}:</div>
          </div>
          <div class="row padding-left" ng-repeat="other in esas_result.pain_result.other_symptoms">
            <div class="col col-75">{{other.key}}</div>
            <div class="col">{{other.value}}</div>
          </div>

          <div class="row">
            <div class="col col-80">{{translations.pain_types_most_painful[language]}}: </div>
          </div>
          <div class="row">
            <ul class="unordered-lists padding-left">
              <li ng-repeat="pain_type in esas_result.pain_types">{{pain_type.type}}</li>
            </ul>
          </div>
          <br>
          <div class="row" ng-init="bodyInit()">
          <div ng-include="'templates/body-diagram/anterior.html'"></div>
          <div ng-include="'templates/body-diagram/posterior.html'"></div>
        </div>

        </div>
      </div>

    </div>
  </ion-content>
  <ion-footer-bar align-title="center" class="bg-orange">
    <div class="buttons">
      <a class="button bg-light-orange curve-all" type="button" href="" ng-show="tab > 1" ng-click="setTab(esas_result.pain_result.pain === 0 && tab > 3? 3 : tab - 1); scrollTop()">Back</a>
    </div>
    <span class="title">
      <rzslider rz-slider-model="tab"
          rz-slider-options="progress.options" style="margin-top:12px" ng-show="esas_enabled"></rzslider>
    </span>
    <div class="buttons">
      <a class="button bg-light-orange curve-all" type="button" href="" ng-show="tab > 2 && tab < 7" ng-click="setTab(esas_result.pain_result.pain === 0? 7 : tab + 1); scrollTop()">Next</a>
      <a class="button bg-light-orange curve-all" type="button" href="" ng-if="tab === 7" ng-click="submitEsas()">Submit</a>
    </div>
  </ion-footer-bar>
</ion-view>
